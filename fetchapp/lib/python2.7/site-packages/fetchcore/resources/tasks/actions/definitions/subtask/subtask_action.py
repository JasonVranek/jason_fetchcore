# Copyright 2017 Fetch Robotics Inc.
# Author(s): Levon Avagyan

# Futures
from __future__ import unicode_literals

# Fetchcore SDK Python
from fetchcore.definitions import ActionStatus, ActionPreemption
from fetchcore.resources import Action
from fetchcore.resources.tasks.actions.definitions import BaseSubtask


class SubtaskAction(Action, BaseSubtask):
    """
    The SUBTASK action launches a subtask that was created from a task template.
    """
    required_fields = ["task_template_id", "cascade_status"]

    def __init__(
            self, id=None, action_definition="SUBTASK", preemptable=ActionPreemption.NONE, task=None,
            status=ActionStatus.NEW, start=None, end=None, cascade_status=None, task_template_id=None,
            inputs=None, outputs=None, states=None, on_complete=None, on_pause=None, on_resume=None, created=None,
            modified=None, **kwargs
    ):
        super(SubtaskAction, self).__init__(
            id=id, action_definition=action_definition, preemptable=preemptable, task=task, status=status, start=start,
            end=end, cascade_status=cascade_status, task_template_id=task_template_id,
            inputs=inputs, outputs=outputs, states=states, on_complete=on_complete, on_pause=on_pause,
            on_resume=on_resume, created=created, modified=modified, **kwargs
        )
